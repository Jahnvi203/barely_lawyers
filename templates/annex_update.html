<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="{{ url_for('static', filename = 'css/style.css') }}"  rel="stylesheet">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
        <title>Annex Update</title>
    </head>
    <body>
        <nav class="navbar">
            <a class="navbar-brand" href="#">
                <img src="https://www.linkpicture.com/q/cjc_logo_1.png" class="d-inline-block align-top" id="cjc-logo">
                <img src="https://www.linkpicture.com/q/menu_icon_1.png" id="menu-icon">
                <span id="menu-text">MENU</span>
                <div class="contact">
                    <span>
                        <img class="header_icons" src="https://www.linkpicture.com/q/phone_12.png"></img>
                        +65 6557 4100
                        <br>
                        <img class="header_icons" src="https://www.linkpicture.com/q/email_28.png"></img>
                        help@cjc.org.sg
                    </span>
                </div>
            </a>
        </nav>
        <div class="row">
            <div class="col-2" id="sidebar">
                <div class="accordion" id="sidebar_accordion">
                    <div class="accordion-item">
                        <p class="accordion-header" id="h1">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#c1" aria-expanded="false" aria-controls="c1">
                                Family Matters
                            </button>
                        </p>
                        <div id="c1" class="accordion-collapse collapse" aria-labelledby="h1" data-bs-parent="#sidebar_accordion">
                            <div class="accordion-body">
                                <p>&emsp;<a href="{{ url_for('maintenance_dashboard') }}" target="_self">Maintenance Dash</a></p>
                                <p>&emsp;<a href="{{ url_for('maintenance_cms') }}" target="_self">Maintenance CMS</a></p>
                                <p>&emsp;<a href="{{ url_for('divorce_dashboard') }}" target="_self">Divorce Dash</a></p>
                                <p>&emsp;<a href="{{ url_for('divorce_cms') }}" target="_self">Divorce CMS</a></p>
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <p class="accordion-header" id="h2">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#c2" aria-expanded="false" aria-controls="c2">
                                Criminal Matters
                            </button>
                        </p>
                        <div id="c2" class="accordion-collapse collapse" aria-labelledby="h2" data-bs-parent="#sidebar_accordion">
                            <div class="accordion-body">
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <p class="accordion-header" id="h3">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#c3" aria-expanded="false" aria-controls="c3">
                                Civil Matters
                            </button>
                        </p>
                        <div id="c3" class="accordion-collapse collapse" aria-labelledby="h3" data-bs-parent="#sidebar_accordion">
                            <div class="accordion-body">
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <p class="accordion-header" id="h4">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#c4" aria-expanded="false" aria-controls="c4">
                                Information
                            </button>
                        </p>
                        <div id="c4" class="accordion-collapse collapse" aria-labelledby="h4" data-bs-parent="#sidebar_accordion">
                            <div class="accordion-body">
                                <p>&emsp;<a href="{{ url_for('oslas_dashboard') }}" target="_self">OSLAS Dash</a></p>
                                <p>&emsp;<a href="{{ url_for('oslas_cms') }}" target="_self">OSLAS CMS</a></p>
                            </div>
                        </div>
                    </div>
                    <p><a href="{{ url_for('prescriptor') }}"><strong>Prescriptive Analysis</strong></a></p>
                </div>
            </div>
            <div class="col-10" id="content">
                <div class="intro">
                    <h2 class="intro_heading">Annex Update</h2>
                    <br><br>
                    <script>
                        function populate_modal() {
                            let previewModal = document.getElementById("previewModal");
                            let textarea_input = "<br>" + document.getElementById("annex").value + "<br>";
                            previewModal.innerHTML = textarea_input;
                        }
                    </script>
                    <div class="row" id="options-row">
                        <div class="col-sm-3">
                            <label class="edit-question-label" for="annex"><strong>{{ annex_display_name }}</strong></label>
                        </div>
                        <div class="col-sm-9">
                            <form action="{{ url_for('annex_update_effect', type = type, annex_name = annex_name) }}" method="POST">
                                <textarea id="annex" class="edit-question-input" name="annex" rows="15" required>{{ annex_html }}</textarea>
                                <br>
                                <span>
                                    <button type="button" onClick="populate_modal()" data-bs-toggle="modal" data-bs-target="#preview" class="btn btn-primary edit-button">Preview</button>
                                    &emsp;
                                    <input type="submit" class="btn btn-primary edit-button" value="Submit">
                                </span>
                            </form>
                        </div>
                        <div class="modal fade" id="preview" tabindex="-1" role="dialog" aria-labelledby="previewLabel" aria-hidden="true">
                            <div class="modal-dialog modal-lg" role="document">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title" id="previewLabel">Preview</h5>
                                        <button class="close" data-bs-dismiss="modal" aria-label="Close">X</button>
                                    </div>
                                    <div id="previewModal" class="modal-body"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>